{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Nome:\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email:\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phone\"\n}, \"Telefone:\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"photo\"\n}, \"Foto:\", -1 /* HOISTED */);\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Salvar\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createBlock(_component_b_modal, {\n    modelValue: $data.showModal,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.showModal = $event),\n    title: \"Editar Contato\",\n    onHidden: $options.resetData\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", null, [_hoisted_1, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.editedContact.name = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.name]])]), _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.editedContact.email = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.email]])]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"phone\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editedContact.phone = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.phone]])]), _createElementVNode(\"div\", null, [_hoisted_4, _createElementVNode(\"input\", {\n      type: \"file\",\n      id: \"photo\",\n      onChange: _cache[3] || (_cache[3] = (...args) => $options.handlePhotoUpload && $options.handlePhotoUpload(...args)),\n      accept: \"image/*\"\n    }, null, 32 /* NEED_HYDRATION */), $data.editedContact.photo ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: $data.editedContact.photo,\n      alt: \"Foto do contato\"\n    }, null, 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true)]), _hoisted_6], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"onHidden\"]);\n}","map":{"version":3,"names":["_createElementVNode","for","type","_createBlock","_component_b_modal","modelValue","$data","showModal","_cache","$event","title","onHidden","$options","resetData","default","_withCtx","onSubmit","_withModifiers","args","submitForm","_hoisted_1","id","editedContact","name","required","_hoisted_2","email","_hoisted_3","phone","_hoisted_4","onChange","handlePhotoUpload","accept","photo","_createElementBlock","key","src","alt","_hoisted_5","_createCommentVNode","_hoisted_6","_"],"sources":["/home/natalia/teste_huggy_/huggy/src/components/ContactList.vue"],"sourcesContent":["<template>\n  <b-modal v-model=\"showModal\" title=\"Editar Contato\" @hidden=\"resetData\">\n    <form @submit.prevent=\"submitForm\">\n      <div>\n        <label for=\"name\">Nome:</label>\n        <input type=\"text\" id=\"name\" v-model=\"editedContact.name\" required>\n      </div>\n      <div>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" v-model=\"editedContact.email\" required>\n      </div>\n      <div>\n        <label for=\"phone\">Telefone:</label>\n        <input type=\"text\" id=\"phone\" v-model=\"editedContact.phone\" required>\n      </div>\n      <div>\n        <label for=\"photo\">Foto:</label>\n        <input type=\"file\" id=\"photo\" @change=\"handlePhotoUpload\" accept=\"image/*\">\n        <img v-if=\"editedContact.photo\" :src=\"editedContact.photo\" alt=\"Foto do contato\">\n      </div>\n      <button type=\"submit\">Salvar</button>\n    </form>\n  </b-modal>\n</template>\n\n<script>\nexport default {\n  name: 'EditContactModal',\n  props: {\n    contact: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      showModal: false,\n      editedContact: {\n        name: '',\n        email: '',\n        phone: '',\n        photo: ''\n      },\n      photoFile: null\n    };\n  },\n  watch: {\n    contact: {\n      handler(newVal) {\n        this.editedContact = { ...newVal };\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    resetData() {\n      this.editedContact = { ...this.contact };\n      this.photoFile = null; // Limpar o arquivo de foto ao resetar os dados\n    },\n    handlePhotoUpload(event) {\n      const file = event.target.files[0];\n      if (file) {\n        // Ler o arquivo como URL para exibição na prévia da foto\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.editedContact.photo = reader.result;\n        };\n        reader.readAsDataURL(file);\n\n        // Armazenar o arquivo para enviar ao servidor\n        this.photoFile = file;\n      }\n    },\n    submitForm() {\n      // Enviar o arquivo de foto junto com os dados do contato para a API\n      const formData = new FormData();\n      formData.append('name', this.editedContact.name);\n      formData.append('email', this.editedContact.email);\n      formData.append('phone', this.editedContact.phone);\n      if (this.photoFile) {\n        formData.append('photo', this.photoFile);\n      }\n\n      // Exemplo de envio para a API usando axios\n      axios.post('http://localhost:8000/api/clientes{id}', formData)\n        .then(response => {\n          // Lógica de sucesso\n          console.log('Contato editado com sucesso:', response.data);\n          // Fechar o modal após a edição ser concluída\n          this.showModal = false;\n        })\n        .catch(error => {\n          // Lógica de erro\n          console.error('Erro ao editar contato:', error);\n        });\n    }\n  }\n};\n</script>\n\n<style>\n/* Estilos para EditContactModal */\n</style>\n"],"mappings":";gCAIQA,mBAAA,CAA+B;EAAxBC,GAAG,EAAC;AAAM,GAAC,OAAK;gCAIvBD,mBAAA,CAAiC;EAA1BC,GAAG,EAAC;AAAO,GAAC,QAAM;gCAIzBD,mBAAA,CAAoC;EAA7BC,GAAG,EAAC;AAAO,GAAC,WAAS;gCAI5BD,mBAAA,CAAgC;EAAzBC,GAAG,EAAC;AAAO,GAAC,OAAK;mBAhBhC;gCAoBMD,mBAAA,CAAqC;EAA7BE,IAAI,EAAC;AAAQ,GAAC,QAAM;;;uBAnBhCC,YAAA,CAqBUC,kBAAA;IAtBZC,UAAA,EACoBC,KAAA,CAAAC,SAAS;IAD7B,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IACoBH,KAAA,CAAAC,SAAS,GAAAE,MAAA;IAAEC,KAAK,EAAC,gBAAgB;IAAEC,QAAM,EAAEC,QAAA,CAAAC;;IAD/DC,OAAA,EAAAC,QAAA,CAEI,MAmBO,CAnBPf,mBAAA,CAmBO;MAnBAgB,QAAM,EAAAR,MAAA,QAAAA,MAAA,MAFjBS,cAAA,KAAAC,IAAA,KAE2BN,QAAA,CAAAO,UAAA,IAAAP,QAAA,CAAAO,UAAA,IAAAD,IAAA,CAAU;QAC/BlB,mBAAA,CAGM,cAFJoB,UAA+B,E,gBAC/BpB,mBAAA,CAAmE;MAA5DE,IAAI,EAAC,MAAM;MAACmB,EAAE,EAAC,MAAM;MALpC,uBAAAb,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAK8CH,KAAA,CAAAgB,aAAa,CAACC,IAAI,GAAAd,MAAA;MAAEe,QAAQ,EAAR;mDAApBlB,KAAA,CAAAgB,aAAa,CAACC,IAAI,E,KAE1DvB,mBAAA,CAGM,cAFJyB,UAAiC,E,gBACjCzB,mBAAA,CAAsE;MAA/DE,IAAI,EAAC,OAAO;MAACmB,EAAE,EAAC,OAAO;MATtC,uBAAAb,MAAA,QAAAA,MAAA,MAAAC,MAAA,IASgDH,KAAA,CAAAgB,aAAa,CAACI,KAAK,GAAAjB,MAAA;MAAEe,QAAQ,EAAR;mDAArBlB,KAAA,CAAAgB,aAAa,CAACI,KAAK,E,KAE7D1B,mBAAA,CAGM,cAFJ2B,UAAoC,E,gBACpC3B,mBAAA,CAAqE;MAA9DE,IAAI,EAAC,MAAM;MAACmB,EAAE,EAAC,OAAO;MAbrC,uBAAAb,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAa+CH,KAAA,CAAAgB,aAAa,CAACM,KAAK,GAAAnB,MAAA;MAAEe,QAAQ,EAAR;mDAArBlB,KAAA,CAAAgB,aAAa,CAACM,KAAK,E,KAE5D5B,mBAAA,CAIM,cAHJ6B,UAAgC,EAChC7B,mBAAA,CAA2E;MAApEE,IAAI,EAAC,MAAM;MAACmB,EAAE,EAAC,OAAO;MAAES,QAAM,EAAAtB,MAAA,QAAAA,MAAA,UAAAU,IAAA,KAAEN,QAAA,CAAAmB,iBAAA,IAAAnB,QAAA,CAAAmB,iBAAA,IAAAb,IAAA,CAAiB;MAAEc,MAAM,EAAC;uCACtD1B,KAAA,CAAAgB,aAAa,CAACW,KAAK,I,cAA9BC,mBAAA,CAAiF;MAlBzFC,GAAA;MAkByCC,GAAG,EAAE9B,KAAA,CAAAgB,aAAa,CAACW,KAAK;MAAEI,GAAG,EAAC;4BAlBvEC,UAAA,KAAAC,mBAAA,e,GAoBMC,UAAqC,C;IApB3CC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}