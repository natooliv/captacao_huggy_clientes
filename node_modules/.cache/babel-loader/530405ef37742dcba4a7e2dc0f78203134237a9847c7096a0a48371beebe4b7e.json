{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Nome:\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email:\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"celular\"\n}, \"Celular:\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phone\"\n}, \"Telefone:\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"address\"\n}, \"Endereço:\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"bairro\"\n}, \"Bairro:\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"estado\"\n}, \"Estado:\", -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"photo\"\n}, \"Foto (Upload):\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Salvar\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createBlock(_component_b_modal, {\n    modelValue: $data.showModal,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.showModal = $event),\n    title: \"Editar Contato\",\n    onHidden: $options.resetData\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"form\", {\n      onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", null, [_hoisted_1, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.editedContact.name = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.name]])]), _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.editedContact.email = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.email]])]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"celular\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editedContact.celular = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.celular]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"phone\",\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editedContact.phone = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.phone]])]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"address\",\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editedContact.address = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.address]])]), _createElementVNode(\"div\", null, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"bairro\",\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.editedContact.bairro = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.bairro]])]), _createElementVNode(\"div\", null, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"estado\",\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.editedContact.estado = $event),\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContact.estado]])]), _createElementVNode(\"div\", null, [_hoisted_8, _createElementVNode(\"input\", {\n      type: \"file\",\n      id: \"photo\",\n      ref: \"photoInput\",\n      onChange: _cache[7] || (_cache[7] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args))\n    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createCommentVNode(\" Pré-visualização da foto, se disponível \")]), $data.editedContact.photo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n      src: $options.getPhotoUrl($data.editedContact.photo),\n      alt: \"Pré-visualização da foto\",\n      style: {\n        \"width\": \"100px\",\n        \"height\": \"100px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_10)])) : _createCommentVNode(\"v-if\", true), _hoisted_11], 32 /* NEED_HYDRATION */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"onHidden\"]);\n}","map":{"version":3,"names":["_createElementVNode","for","key","type","_createBlock","_component_b_modal","modelValue","$data","showModal","_cache","$event","title","onHidden","$options","resetData","default","_withCtx","onSubmit","_withModifiers","args","submitForm","_hoisted_1","id","editedContact","name","required","_hoisted_2","email","_hoisted_3","celular","_hoisted_4","phone","_hoisted_5","address","_hoisted_6","bairro","_hoisted_7","estado","_hoisted_8","ref","onChange","handleFileUpload","_createCommentVNode","photo","_createElementBlock","_hoisted_9","src","getPhotoUrl","alt","style","_hoisted_10","_hoisted_11","_"],"sources":["/home/natalia/teste_huggy_/huggy/src/components/EditContactModal.vue"],"sourcesContent":["<template>\n  <b-modal v-model=\"showModal\" title=\"Editar Contato\" @hidden=\"resetData\">\n    <form @submit.prevent=\"submitForm\">\n      <div>\n        <label for=\"name\">Nome:</label>\n        <input type=\"text\" id=\"name\" v-model=\"editedContact.name\" required>\n      </div>\n      <div>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" v-model=\"editedContact.email\" required>\n      </div>\n      <div>\n        <label for=\"celular\">Celular:</label>\n        <input type=\"text\" id=\"celular\" v-model=\"editedContact.celular\" required>\n      </div>\n      <div>\n        <label for=\"phone\">Telefone:</label>\n        <input type=\"text\" id=\"phone\" v-model=\"editedContact.phone\" required>\n      </div>\n      <div>\n        <label for=\"address\">Endereço:</label>\n        <input type=\"text\" id=\"address\" v-model=\"editedContact.address\" required>\n      </div>\n      \n      <div>\n        <label for=\"bairro\">Bairro:</label>\n        <input type=\"text\" id=\"bairro\" v-model=\"editedContact.bairro\" required>\n      </div>\n      <div>\n        <label for=\"estado\">Estado:</label>\n        <input type=\"text\" id=\"estado\" v-model=\"editedContact.estado\" required>\n      </div>\n      <div>\n        <label for=\"photo\">Foto (Upload):</label>\n    <input type=\"file\" id=\"photo\" ref=\"photoInput\" @change=\"handleFileUpload\">\n    <!-- Pré-visualização da foto, se disponível -->\n    </div>\n    <div v-if=\"editedContact.photo\">\n      <img :src=\"getPhotoUrl(editedContact.photo)\" alt=\"Pré-visualização da foto\" style=\"width: 100px; height: 100px;\">\n    </div>\n      <button type=\"submit\">Salvar</button>\n    </form>\n  </b-modal>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'EditContactModal',\n  props: {\n    contact: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      showModal: false,\n      editedContact: { ...this.contact },\n      photoFile: null,\n      errorMessage: ''\n    };\n  },\n  methods: {\n    resetData() {\n      this.editedContact = { ...this.contact };\n      this.photoFile = null;\n      if (this.$refs.photo) {\n        this.$refs.photo.value = '';\n      }\n      this.errorMessage = '';\n    },\n    handleFileUpload(event) {\n      const selectedFile = event.target.files[0];\n      if (selectedFile) {\n        const formData = new FormData();\n        formData.append('photo', selectedFile);\n\n        axios.post('http://localhost:8000/api/upload-image', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        })\n        .then(response => {\n          this.editedContact.photo = response.data.temporaryPath;\n        })\n        .catch(error => {\n          console.error('Erro ao fazer upload da imagem:', error);\n          this.errorMessage = 'Erro ao fazer upload da imagem.';\n        });\n      }\n    },\n    getPhotoUrl(photoPath) {\n      // Ajuste o caminho se necessário\n      return photoPath ? `http://localhost:8000/storage/${photoPath}` : null;\n    },\n    submitForm() {\n      console.log('Formulário submetido!');\n      this.errorMessage = '';\n\n      if (!this.editedContact.name.trim() || !this.editedContact.email.trim() || !this.editedContact.phone.trim() || !this.editedContact.address.trim()) {\n        this.errorMessage = 'Por favor, preencha todos os campos obrigatórios.';\n        return;\n      }\n\n      axios.put(`http://localhost:8000/api/clientes/${this.contact.id}`, this.editedContact)\n        .then(response => {\n          console.log('Contato editado com sucesso:', response.data);\n          this.showModal = false;\n          this.$emit('update', response.data);\n          this.resetData();\n        })\n        .catch(error => {\n          this.errorMessage = 'Erro ao editar contato.';\n          console.error('Erro ao editar contato:', error);\n        });\n    },\n    resetData() {\n      this.editedContact = { ...this.contact };\n      this.photoFile = null;\n      this.$refs.photoInput.value = '';\n      this.errorMessage = '';\n    }\n  }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}